\section*{\centering \Huge \textbf{Chapter 7: FRONTEND EXPERIENCE}}
\vspace{2cm}
\addcontentsline{toc}{chapter}{Chapter 7: Frontend Experience \& Interface Design}

\section{Design Philosophy}

The AgriDecision-TN frontend is designed with three core principles:

\begin{enumerate}
    \item \textbf{Mobile-First}: 85\% of Tunisian farmers access internet via smartphones
    \item \textbf{Data Efficiency}: <5MB/month usage for rural 3G connectivity
    \item \textbf{Cultural Authenticity}: Tunisian Arabic (Derja) interface with local iconography
\end{enumerate}

\section{Core User Interface}

\subsection{Homepage \& Dashboard}

The homepage serves as the central navigation hub with quick access to all features:

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/homepage.png}
\caption{Homepage: Dashboard with Quick Stats and Navigation}
\label{fig:homepage}
\end{figure}

\textbf{Key Elements:}
\begin{itemize}
    \item \textbf{Welcome Card}: Personalized greeting with farmer name and governorate
    \item \textbf{Quick Stats}: Total decisions, success rate, recent advice
    \item \textbf{Action Buttons}: "Get Advice", "View Analytics", "History"
    \item \textbf{Weather Widget}: 7-day forecast for farmer's governorate
\end{itemize}

\subsection{Crop Selection Interface}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/crop_selection.png}
\caption{Crop Selection: Visual Grid with Categories}
\label{fig:crop_selection}
\end{figure}

\textbf{Features:}
\begin{itemize}
    \item \textbf{Category Filters}: Cereals, Vegetables, Fruits, Legumes
    \item \textbf{Visual Cards}: Crop images with Arabic + French names
    \item \textbf{Suitability Indicators}: Color-coded RCPS scores (green=optimal, yellow=suitable, red=risky)
    \item \textbf{Search Bar}: Instant filtering by crop name
\end{itemize}

\subsection{Advice Generation Screen}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/advice_screen.png}
\caption{Advice Screen: Decision Display with Weather Context}
\label{fig:advice_screen}
\end{figure}

\textbf{Decision Display Components:}
\begin{enumerate}
    \item \textbf{Primary Recommendation}:
    \begin{itemize}
        \item Large icon (✓ for PLANT\_NOW, ⏸ for WAIT, ✗ for NOT\_RECOMMENDED)
        \item Color-coded background (green/yellow/red)
        \item Confidence level (HIGH/MEDIUM/LOW)
    \end{itemize}
    
    \item \textbf{Agrarian Period Context}:
    \begin{itemize}
        \item Current period name in Arabic + French
        \item Date range and risk level
        \item Traditional indicators (e.g., "Pleiades rising at dawn")
    \end{itemize}
    
    \item \textbf{Weather Forecast}:
    \begin{itemize}
        \item 7-day temperature chart (Recharts line graph)
        \item Rainfall probability bars
        \item Risk indicators (frost, heavy rain, extreme heat)
    \end{itemize}
    
    \item \textbf{AI Explanation}:
    \begin{itemize}
        \item Natural language explanation in Derja
        \item Why the system recommends this action
        \item What risks to watch for
    \end{itemize}
\end{enumerate}

\subsection{Analytics Dashboard}

\begin{figure}[H]
\centering
\begin{subfigure}[b]{0.48\textwidth}
    \centering
    \includegraphics[width=\textwidth]{figures/analytics_overview.png}
    \caption{Overview: Key Metrics}
    \label{fig:analytics_overview}
\end{subfigure}
\hfill
\begin{subfigure}[b]{0.48\textwidth}
    \centering
    \includegraphics[width=\textwidth]{figures/analytics_trends.png}
    \caption{Trends: Performance Over Time}
    \label{fig:analytics_trends}
\end{subfigure}
\caption{Analytics Dashboard: Two-Panel Layout}
\label{fig:analytics_dashboard}
\end{figure}

\textbf{Metrics Displayed:}
\begin{itemize}
    \item \textbf{Advice Effectiveness Score (AES)}: Bayesian-Wilson success rate with CI
    \item \textbf{Risk Avoidance ROI (RAR)}: Financial savings from avoided losses
    \item \textbf{Confidence Validation Score (CVS)}: Brier score calibration
    \item \textbf{Data Reliability Score (DRS)}: Sample size sufficiency indicator
    \item \textbf{Performance Trends}: Line chart showing success rate over time
    \item \textbf{Regional Comparison}: Farmer vs. governorate average
\end{itemize}

\subsection{Decision History}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{figures/history_screen.png}
\caption{History Screen: Timeline of Past Decisions}
\label{fig:history_screen}
\end{figure}

\textbf{Features:}
\begin{itemize}
    \item \textbf{Chronological Timeline}: Most recent decisions first
    \item \textbf{Outcome Badges}: Color-coded success/failure/partial indicators
    \item \textbf{Expandable Cards}: Tap to view full decision details
    \item \textbf{Filters}: By crop, period, outcome, date range
    \item \textbf{Export}: Download history as CSV for record-keeping
\end{itemize}

\section{Mobile Optimization}

\subsection{Progressive Web App (PWA) Features}

\begin{itemize}
    \item \textbf{Installable}: "Add to Home Screen" prompt for app-like experience
    \item \textbf{Offline Functionality}: Service workers cache forecasts for 7 days
    \item \textbf{Push Notifications}: Critical weather alerts (frost warnings)
    \item \textbf{Background Sync}: Queue outcome submissions when offline
\end{itemize}

\subsection{Performance Optimizations}

\begin{table}[H]
\centering
\small
\begin{tabularx}{\textwidth}{@{}lX@{}}
\toprule
\textbf{Technique} & \textbf{Implementation} \\
\midrule
Code Splitting & Lazy loading with React.lazy() for analytics/history pages \\
Image Optimization & WebP format with fallback to JPEG, responsive srcset \\
Bundle Size & Vite tree-shaking reduces bundle to 180KB gzipped \\
Caching Strategy & Service worker caches static assets for 30 days \\
Prefetching & Link prefetch for likely next pages (advice → analytics) \\
\bottomrule
\end{tabularx}
\caption{Frontend Performance Optimization Techniques}
\label{tab:frontend_optimization}
\end{table}

\section{User Experience (UX) Enhancements}

\subsection{Micro-Interactions}

\begin{itemize}
    \item \textbf{Loading States}: Skeleton screens during API calls (not spinners)
    \item \textbf{Optimistic Updates}: UI updates before server confirmation for voting
    \item \textbf{Smooth Transitions}: Framer Motion animations for page navigation
    \item \textbf{Haptic Feedback}: Vibration on button press (mobile devices)
\end{itemize}

\subsection{Accessibility}

\begin{itemize}
    \item \textbf{WCAG 2.1 AA Compliance}: Minimum 4.5:1 color contrast ratio
    \item \textbf{Screen Reader Support}: ARIA labels for all interactive elements
    \item \textbf{Keyboard Navigation}: Full functionality without mouse
    \item \textbf{Font Scaling}: Supports system font size preferences
\end{itemize}

\section{Design System}

\subsection{Color Palette}

\begin{table}[H]
\centering
\small
\begin{tabularx}{\textwidth}{@{}llX@{}}
\toprule
\textbf{Color} & \textbf{Hex Code} & \textbf{Usage} \\
\midrule
Primary Green & \texttt{\#10B981} & Success states, PLANT\_NOW recommendations \\
Warning Yellow & \texttt{\#F59E0B} & WAIT recommendations, medium risk \\
Danger Red & \texttt{\#EF4444} & NOT\_RECOMMENDED, high risk alerts \\
Neutral Gray & \texttt{\#6B7280} & Text, borders, inactive states \\
Background & \texttt{\#F9FAFB} & Page background, card backgrounds \\
\bottomrule
\end{tabularx}
\caption{Color Palette with Semantic Meaning}
\label{tab:color_palette}
\end{table}

\subsection{Typography}

\begin{itemize}
    \item \textbf{Arabic Font}: Noto Naskh Arabic (Google Fonts)
    \item \textbf{Latin Font}: Inter (system fallback: -apple-system, BlinkMacSystemFont)
    \item \textbf{Headings}: 24px bold for page titles, 18px for section headers
    \item \textbf{Body Text}: 16px regular for readability on mobile
    \item \textbf{Line Height}: 1.6 for comfortable reading
\end{itemize}

\section{Responsive Design}

\subsection{Breakpoint Strategy}

\begin{table}[H]
\centering
\small
\begin{tabularx}{\textwidth}{@{}llX@{}}
\toprule
\textbf{Device} & \textbf{Breakpoint} & \textbf{Layout Adjustments} \\
\midrule
Mobile & <640px & Single column, stacked cards, bottom navigation \\
Tablet & 640px-1024px & Two columns for crop grid, side navigation \\
Desktop & >1024px & Three columns, sidebar + main content \\
\bottomrule
\end{tabularx}
\caption{Responsive Breakpoints and Layout Adaptations}
\label{tab:breakpoints}
\end{table}
